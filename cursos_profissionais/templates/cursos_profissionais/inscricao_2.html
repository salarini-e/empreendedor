{% extends 'template.html' %}
{% load bootstrap5 %}
{% load static%}
{% block title %}SALA DO EMPREENDEDOR - CURSOS LIVRES{% endblock %}
{% block css %}

{% endblock %}
{% block nav %}
{% include 'nav_empreendedor.html' %}
{% endblock %}
{% block prematricula %}fw-bold{% endblock %}
{% block main %}
<div class="row">
    <div class="col d-flex pbp-5"> 
        <div class="row w-100">
            <div class="col-10 pb-4 m-auto bg-white" style="border-radius: 30px;">
              <h2 class="px-4 py-2 mt-3">
                ETAPA 1 finalizada
                </h2>    
                <div class="row">
                    <div class="col text-dark px-4 pt-4">                      
                        <!-- <div class="row">
                          <div class="col px-5 pt-2 d-flex">
                            <h6 class="text-justify mb-4">
                              <b>Termine sua incrição seguindo para a segunda etapa!</b><br>
                              
                            </h6>
                            <a href="#" class="m-auto">
                                <img style="width: 300px;" src="/static/images/whats.png" alt="botao grupo do whatsapp">
                            </a>  
                          </div>
                        </div>                                                                                                                            -->
                        <div class="row">
                            <div class="col px-5 py-4 d-flex flex-column">                            
                                 <strong>Conclua sua inscrição:</strong>
                                <a target="_blank" href="{{curso.link}}" class="btn btn-primary w-100 py-4 mt-3">
                                    <b class="text-uppercase">SEGUIR PARA ETAPA 2</b>
                                </a>
                            </div>                            
                        </div>                                              
                    </div>
                </div>
            </div>
        </div>    
    </div>
</div>

  <script>
       function icnpj(v){
        v=v.replace(/\D/g,"")                    //Remove tudo o que nao e digito
        v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o segundo e terceiro digitos
        v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o quinto e o sexto digitos
        v=v.replace(/(\d{3})(\d)/,"$1/$2")       //Coloca um ponto entre o quinto e o sexto digitos
        v=v.replace(/(\d{4})(\d)/,"$1-$2")       //Coloca um ponto entre o quinto e o sexto digitos
        // v=v.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/, "$1.$2.$3/$4-$5")
        return v
    }
    function icpf(v){
        v=v.replace(/\D/g,"")                    //Remove tudo o que nao e digito
        v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o segundo e terceiro digitos
        v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o quinto e o sexto digitos
        v=v.replace(/(\d{3})(\d)/,"$1-$2")       //Coloca um ponto entre o quinto e o sexto digitos
        // v=v.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/, "$1.$2.$3/$4-$5")
        return v
    }
    function irg(v){
        v=v.replace(/\D/g,"")                    //Remove tudo o que nao e digito
        v=v.replace(/(\d{2})(\d)/,"$1.$2")       //Coloca um ponto entre o segundo e terceiro digitos
        v=v.replace(/(\d{3})(\d)/,"$1.$2")       //Coloca um ponto entre o quinto e o sexto digitos
        v=v.replace(/(\d{3})(\d)/,"$1-$2")       //Coloca um ponto entre o quinto e o sexto digitos
        // v=v.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/, "$1.$2.$3/$4-$5")
        return v
    }
    function itelefone(v){
        v=v.replace(/\D/g,"")                 //Remove tudo o que nao e digito
        v=v.replace(/^(\d\d)(\d)/g,"($1) $2") //Coloca parenteses em volta dos dois primeiros digitos
        v=v.replace(/(\d{4})(\d)/,"$1-$2")    //Coloca hifen entre o quarto e o quinto digitos
        return v
    }
    function icelular(v){
        v=v.replace(/\D/g,"")                 //Remove tudo o que nao e digito
        v=v.replace(/^(\d\d)(\d)/g,"($1) $2") //Coloca parenteses em volta dos dois primeiros digitos
        v=v.replace(/(\d{5})(\d)/,"$1-$2")    //Coloca hifen entre o quarto e o quinto digitos
        return v
    }
    function icep(v){
        v=v.replace(/\D/g,"")                 
        v=v.replace(/^(\d\d\d\d\d)(\d\d\d)/g,"$1-$2")
        return v
    }
    function mascara(o,f){
        v_obj=o
        v_fun=f
        setTimeout("execmascara()",1)
    }            
    function execmascara(){
        v_obj.value=v_fun(v_obj.value)
    }
    function itel(v){
        if (v.length==15){
            v=v.replace(/\D/g,"")                 //Remove tudo o que nao e digito
            v=v.replace(/^(\d\d)(\d)/g,"($1) $2") //Coloca parenteses em volta dos dois primeiros digitos
            v=v.replace(/(\d{5})(\d)/,"$1-$2")  
        }else{
            v=v.replace(/\D/g,"")                 //Remove tudo o que nao e digito
            v=v.replace(/^(\d\d)(\d)/g,"($1) $2") //Coloca parenteses em volta dos dois primeiros digitos
            v=v.replace(/(\d{4})(\d)/,"$1-$2")    // 
        }
        return v
    }
    function getAge(dateString) {
      var today = new Date();
      var birthDate = new Date(dateString);
      var age = today.getFullYear() - birthDate.getFullYear();
      var m = today.getMonth() - birthDate.getMonth();
      if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
          age--;
      }
      return age;
  }

  function setRequired(...elements){
    elements.forEach(e => {
        e.setAttribute('required', '');
    })
}

function removeRequired(...elements){
    elements.forEach(e => {
        e.removeAttribute('required');
    })
}

  
    window.addEventListener('load', function (){
      const nascimento = document.querySelector("#id_candidato-dt_nascimento")
      nascimento.addEventListener("change", async (e)=>{
        if(!e.target.value) return
        const form_responsavel = document.querySelector('.form_responsavel')

        if(getAge(e.target.value) < 18){
          form_responsavel.style.display = 'block'
          setRequired(...Array.from(form_responsavel.querySelectorAll('input')))
          setRequired(...Array.from(form_responsavel.querySelectorAll('select')))

        } else {
          form_responsavel.style.display = 'none'
          removeRequired(...Array.from(form_responsavel.querySelectorAll('input')))
          removeRequired(...Array.from(form_responsavel.querySelectorAll('select')))
        }

      
       
    })

      const form_responsavel = document.querySelector('.form_responsavel')
      form_responsavel.style.display = 'none'
      removeRequired(...Array.from(form_responsavel.querySelectorAll('input')))
      removeRequired(...Array.from(form_responsavel.querySelectorAll('select')))


      nascimento.dispatchEvent(new Event('change'))
    });
    document.getElementById('empreendedor_capacita').classList.add('s-nav-active');
  </script>

  <style>
  
    .hidden{
        display: none;
        visibility: hidden;
        pointer-events: none;
      }

  </style>
{% endblock %}